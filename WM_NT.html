<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>与众微信群命名生成器</title>
  <style>
    :root{
      --bg:#0b0c10; --card:#111318; --muted:#7a7f87; --text:#e9eef5; --brand:#4da3ff; --accent:#2b2f36; --ok:#2ecc71;
    }
    *{box-sizing:border-box}
    body{
      margin:0; padding:24px; background:linear-gradient(180deg,#0a0c10,#0e1117 40%,#0a0c10);
      color:var(--text); font:16px/1.6 system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial;
    }
    h1{font-size:20px; margin:0 0 16px}
    p.sub{margin:0 0 20px; color:var(--muted)}
    .wrap{max-width:840px; margin:0 auto}
    .card{
      background:var(--card); border:1px solid #1a1e24; border-radius:16px; padding:20px; box-shadow:0 8px 24px rgba(0,0,0,.35);
    }
    .row{display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-top:12px}
    .row.full{grid-template-columns:1fr}
    label{display:block; font-weight:600; margin-bottom:6px}
    input[type="text"], input[type="month"]{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid #2a2f38;
      background:#0c0f14; color:var(--text); outline:none; transition:.2s border-color;
    }
    input[type="text"]:focus, input[type="month"]:focus{border-color:var(--brand)}
    .hint{color:var(--muted); font-size:12px; margin-top:6px}

    .outputs{display:grid; grid-template-columns:1fr; gap:12px; margin-top:18px}
    .out{
      background:var(--accent); border:1px dashed #2e3440; border-radius:12px; padding:14px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .tag{font-size:12px; padding:4px 8px; border-radius:999px; background:#1a1e24; color:#a6b3c2; margin-right:8px}
    .name{flex:1; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace; word-break:break-all}
    .btns{display:flex; gap:8px}
    button{
      appearance:none; border:none; cursor:pointer; padding:10px 12px; border-radius:12px; font-weight:600;
      background:#18202a; color:#cfe6ff; border:1px solid #223040; transition:.15s transform,.15s background;
    }
    button:hover{transform:translateY(-1px); background:#1c2532}
    button.primary{background:#123053; border-color:#21466a}
    button.primary:hover{background:#143a66}
    .ok{color:var(--ok); font-size:12px; display:none}

    details{margin-top:10px}
    summary{cursor:pointer; color:#9fb8ff}
    .footer{margin-top:18px; color:var(--muted); font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>与众微信群命名生成器</h1>
    <p class="sub">输入<strong>客户名称</strong>与<strong>项目名称</strong>，自动生成两种标准群名：外部群与内部群。时间将自动使用当前 <strong>YYMM</strong>（可在“更多选项”里修改）。</p>

    <div class="card">
      <div class="row">
        <div>
          <label for="client">客户名称</label>
          <input id="client" type="text" placeholder="例如：招商银行 / 腾讯音乐" />
          <div class="hint">对外可见，请使用客户对外正式名称。</div>
        </div>
        <div>
          <label for="project">项目名称</label>
          <input id="project" type="text" placeholder="例如：招牌年终奖 / 校园音乐季活动" />
          <div class="hint">尽量使用项目全称，避免内部缩写。</div>
        </div>
      </div>

      <details>
        <summary>更多选项（可选）</summary>
        <div class="row" style="margin-top:10px">
          <div>
            <label for="month">项目时间（YY‑MM）</label>
            <input id="month" type="month" />
            <div class="hint">默认取当前年月；此处可手动修改。</div>
          </div>
          <div>
            <label for="agency">乙方公司（默认：与众）</label>
            <input id="agency" type="text" placeholder="与众" value="与众" />
            <div class="hint">外部群会显示乙方公司，便于客户识别服务方。</div>
          </div>
        </div>
      </details>

      <div class="outputs">
        <div class="out">
          <span class="tag">外部群</span>
          <div id="ext" class="name">—</div>
          <div class="btns">
            <button class="primary" data-copy="ext">复制</button>
          </div>
        </div>
        <div class="out">
          <span class="tag">内部群</span>
          <div id="int" class="name">—</div>
          <div class="btns">
            <button class="primary" data-copy="int">复制</button>
          </div>
        </div>
      </div>

      <div class="footer">规则：<code>YYMM_与众_客户名称_项目名称</code>（外部） / <code>🐰YYMM_客户名称_项目名称</code>（内部）。
      </div>
    </div>
  </div>

  <script>
    const $ = (sel)=>document.querySelector(sel);
    const client = $('#client');
    const project = $('#project');
    const month = $('#month');
    const agency = $('#agency');
    const ext = $('#ext');
    const intn = $('#int');

    (function initMonth(){
      const now = new Date();
      const m = String(now.getMonth()+1).padStart(2,'0');
      const y = now.getFullYear();
      month.value = `${y}-${m}`;
    })();

    function yymm(){
      let y,m;
      if(month.value){
        const [yy,mm] = month.value.split('-');
        y = yy.slice(-2); m = mm;
      } else {
        const now = new Date();
        y = String(now.getFullYear()).slice(-2);
        m = String(now.getMonth()+1).padStart(2,'0');
      }
      return `${y}${m}`;
    }

    function sanitize(s){
      return (s||'').trim().replace(/\s+/g,'');
    }

    function render(){
      const YYMM = yymm();
      const c = sanitize(client.value);
      const p = sanitize(project.value);
      const a = sanitize(agency.value)||'与众';

      const extName = c||p ? `${YYMM}_${a}_${c}_${p}` : '—';
      const intName = c||p ? `🐰${YYMM}_${c}_${p}` : '—';

      ext.textContent = extName;
      intn.textContent = intName;
    }

    ['input','change'].forEach(evt=>{
      client.addEventListener(evt,render);
      project.addEventListener(evt,render);
      month.addEventListener(evt,render);
      agency.addEventListener(evt,render);
    });

    render();

    document.body.addEventListener('click', async (e)=>{
      const btn = e.target.closest('button[data-copy]');
      if(!btn) return;
      const id = btn.getAttribute('data-copy');
      const text = (id==='ext'?ext:intn).textContent;
      if(!text || text==='—') return;
      try{
        await navigator.clipboard.writeText(text);
        btn.textContent = '已复制';
        setTimeout(()=>btn.textContent='复制', 1200);
      }catch(err){
        const ta = document.createElement('textarea');
        ta.value = text; document.body.appendChild(ta); ta.select();
        document.execCommand('copy'); document.body.removeChild(ta);
        btn.textContent = '已复制';
        setTimeout(()=>btn.textContent='复制', 1200);
      }
    });
  </script>
</body>
</html>
